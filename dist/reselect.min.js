/*!
 * angular-reselect
 * https://github.com/alexcheuk/Reselect
 * Version: 0.6.12 - 2018-03-02T20:06:47.925Z
 * License: MIT
 */
(function(){"use strict";var e=angular.module("Reselect",["reselect.templates"]);"undefined"!=typeof exports&&(module.exports="Reselect"),e.service("ReselectDataAdapter",["$q",function(e){var t=function(){this.data=[],this.groupByFn=null};return t.prototype.observe=function(){console.error("Not implemented")},t.prototype.prepareGetData=function(){},t.prototype.getData=function(){var t,o=this,n=e.defer();return t=o.cached?this.cached:o.groupData(this.data),n.resolve({data:t}),o.cached=t,n.promise},t.prototype.groupData=function(e){var t=this;if(t.groupByFn&&"function"==typeof t.groupByFn){var o={},n=[],i=[];angular.forEach(e,function(e){if(!e.$$group){var i,r=t.groupByFn(e);angular.isDefined(o[r])?(i=o[r],n[i].push(e)):(i=n.length,o[r]=i,o[i]=r,n[i]=[],n[i].push(e))}}),angular.forEach(n,function(e,t){void 0!==o[t]&&i.push({$$group:o[t]}),i=i.concat(e)}),e=i}return e},t.prototype.updateData=function(e){return this.cached=!1,this.data=e,this.data},t.prototype.init=function(){this.observe(this.updateData.bind(this))},t}]),e.service("ReselectAjaxDataAdapter",["$http",function(e){var t=function(e,t){this.data=[],this.groupByFn=null,this.page=1,this.pagination={},this.parsedOptions=t,this.options=angular.extend({params:function(e){return e}},e)};return t.prototype.observe=function(){},t.prototype.prepareGetData=function(){},t.prototype.getData=function(t){var o,n=this,i={page:this.page,search_term:t},r=this.options.params(i,n.pagination);return o="function"==typeof this.options.endpoint?this.options.endpoint(i,n.pagination):this.options.endpoint,e.get(o,{params:r}).then(function(e){return n.parsedOptions.source({$remote:e.data})}).then(function(e){return n.options.onData(e,r)}).then(function(e){return e.pagination?(n.pagination=e.pagination,e.pagination.more&&(n.page+=1)):n.pagination=null,e})},t.prototype.updateData=function(e,t){return this.data=t===!0?this.data.concat(e):e,this.data},t.prototype.init=function(){},t}]),e.provider("reselectConfig",[function(){angular.extend(this,{allowClear:!1,placeholder:"Please select an option",container:"body"}),this.$get=function(){return this}}]),e.directive("reselect",["$compile",function(){return{restrict:"AE",templateUrl:"templates/reselect.directive.tpl.html",require:["^reselect","^ngModel"],transclude:!0,replace:!0,scope:!0,terminal:!0,link:function(e,t,o,n,i){function r(e,o,n,i,r){var a=s[0].querySelectorAll("."+e+",["+e+"],"+e);1===a.length?r===!0?angular.element(t[0].querySelector("."+e)).replaceWith(a):angular.element(t[0].querySelectorAll(o)).append(a):angular.element(t[0].querySelectorAll(o)).append(a),n&&i&&(c.transcludeCtrls[n]=angular.element(a).controller(i),c.transcludeScopes[n]=angular.element(a).scope())}var c=n[0],s=null;i(e,function(e){s=e,t.append(e)}).detach(),s=angular.element("<div>").append(s),r("reselect-choices",".reselect-dropdown","$ReselectChoice","reselectChoices"),r("reselect-no-choice",".reselect-empty-container",null,null,!0),r("reselect-placeholder",".reselect-rendered-placeholder","$ReselectPlaceholder","reselectPlaceholder",!0),r("reselect-selection",".reselect-rendered-selection","$ReselectSelection","reselectSelection",!0),r("reselect-sticky",".reselect-sticky-container",null,null),angular.element(t[0].querySelectorAll(".reselect-sticky-container")).children().length||angular.element(t[0].querySelectorAll(".reselect-sticky-container")).remove();var a=s[0].querySelectorAll(".reselect-choice, [reselect-choice], reselect-choice");c.transcludeCtrls.$ReselectChoice.registerChoices(a),c.$dropdown=angular.element(t[0].querySelector(".reselect-dropdown")).detach(),c.$dropdown[0].style.top="-999999px",c.$options_container=angular.element(c.$dropdown[0].querySelectorAll(".reselect-options-container"))},controllerAs:"$reselect",controller:["$scope","$element","$attrs","$parse","ReselectUtils","reselectConfig","$timeout","$window","$document","KEYS","safeApply",function(e,t,o,n,i,r,c,s,a,l,p){function d(t){u.$dropdown[0].contains(t.target)||(p(e,function(){u.hideDropdown(!0)}),angular.element(document).off("click",d),t.stopPropagation())}var u=this,h=t.controller("ngModel");return u.options=angular.extend({},r,n(o.reselect)(e),n(o.reselectOptions)(e)),angular.isDefined(o.reselectOptions)&&console.warn('Reselect [reselect-options] is deprecated. Please pass options like this. <reselect="options">'),u.validParsableAttrs=["allowClear"],angular.forEach(r,function(t,i){angular.isDefined(o[i])&&u.validParsableAttrs.indexOf(i)>=0?u.options[i]=n(o[i])(e):angular.isDefined(o[i])&&(u.options[i]=o[i])}),u.value=null,u.opened=!1,u.isDropdownAbove=!1,u.transcludeCtrls={},u.transcludeScopes={},u.parsedChoices=null,u.DataAdapter=null,u.search_term="",u.isRemote=!1,u.isDisabled=!1,u.isFetching=!1,u.dropdownBuffer=50,u.scrollPos=0,u.$element=t[0],u.$dropdown=null,u.$options_container=null,u.selection_scope={},u.selection_scope.$selection=null,u.renderSelection=function(t,o){u.selection_scope.$selection=t,u.selection_scope.$choice=o,e.$broadcast("reselect.renderselection",u.selection_scope)},u.clearValue=function(){u.selectValue(void 0,void 0),e.$broadcast("reselect.resetIndex")},u.selectValue=function(t,o){void 0===t&&void 0===o&&e.$broadcast("reselect.resetIndex"),h.$setViewValue(t),u.value=t,u.isValidValue=angular.isDefined(u.value)||null,u.renderSelection(u.value,o||t),u._saveScrollPos(),u.opened&&u.hideDropdown()},u.clearSearch=function(){u.search_term=""},u.mapModelValue=function(e){var t={};return t[u.parsedOptions.itemName]=e,u.parsedOptions.modelMapper(t)},u.findSelectedChoice=function(){{var e,t,o,n,i=h.$viewValue,r=u.transcludeCtrls.$ReselectChoice.stickyChoices.filter(function(e){return angular.isDefined(e.value)}).map(function(e){return e.value}).concat(u.DataAdapter.data);u.parsedOptions.trackByExp}if(r&&r.length>=0)for(var c=0;c<r.length;c++)if(angular.isDefined(r[c])&&(o=u.mapModelValue(r[c]),n=i,o===n)){t=c,e=r[c];break}return{value:e,index:t}},h.$render=function(){var e,t=h.$viewValue;if(angular.isDefined(t)&&(e=u.findSelectedChoice(t).value),angular.isDefined(e))u.selectValue(h.$viewValue,e);else if(u.options.allowInvalid===!0)u.selectValue(t);else if(u.options.allowInvalid&&"function"==typeof u.options.allowInvalid){var o=function(e){void 0!==e?u.selectValue(u.mapModelValue(e),e):u.selectValue(void 0)};u.options.allowInvalid(t,o)}else u.selectValue(void 0)},u.parsedOptions=null,u.choices=[],u.handleKeyDown=function(t){var o=t.which;u.opened?(o===l.ESC||o===l.TAB)&&(u.hideDropdown(),t.preventDefault()):o===l.ENTER||o===l.SPACE||o===l.UP||o===l.DOWN?(u.showDropdown(),t.preventDefault()):o===l.ESC&&(e.$emit("reselect.input.blur"),t.preventDefault())},u.toggleDropdown=function(){u.isDisabled||(u.opened?u.hideDropdown():u.showDropdown())},u.showDropdown=function(){u.opened=!0,u._positionDropdown(),u._appendDropdown(),setTimeout(function(){angular.element(document).on("click",d)}),u.transcludeCtrls.$ReselectChoice.getData(!0).then(function(){u._positionDropdown(),u.isRemote||u._setScrollPos()}),e.$emit("reselect.search.focus"),angular.element(window).on("resize scroll",u._positionDropdown)},u.hideDropdown=function(t){u.opened=!1,u.clearSearch(),u._removeDropdown(),angular.element(document).off("click",d),t||e.$emit("reselect.input.focus"),angular.element(window).off("resize scroll",u._positionDropdown)},u.bindEventListeners=function(){e.$on("reselect.hide",function(){p(e,function(){u.hideDropdown()})}),e.$on("reselect.choices.render",function(){u._positionDropdown()})},e.$on("$destroy",function(){u._removeDropdown(),angular.element(document).off("click",d),angular.element(window).off("resize scroll",u._positionDropdown)}),o.$observe("disabled",function(e){u.isDisabled=e}),u._calculateDropdownPosition=function(e){e=angular.isNumber(e)?e+u.dropdownBuffer:u.dropdownBuffer;var t=u.$element,o=t.getBoundingClientRect(),n={width:Math.round(angular.isNumber(o.width)?o.width:t.offsetWidth),height:Math.round(angular.isNumber(o.height)?o.height:t.offsetHeight),top:Math.round(o.top+(s.pageYOffset||a[0].documentElement.scrollTop)),bottom:Math.round(o.bottom+(s.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(o.left+(s.pageXOffset||a[0].documentElement.scrollLeft))};return u.isDropdownAbove=Math.round(o.top)>s.outerHeight-Math.round(o.bottom),n},u._calculateDropdownHeight=function(){var e=u.transcludeCtrls.$ReselectChoice.choiceHeight,t=u.$element.querySelectorAll(".reselect-sticky-container").clientHeight,o=u.transcludeCtrls.$ReselectChoice.listHeight+e+t,n=u.$dropdown[0].clientHeight;return n>=o?o:n},u._positionDropdown=function(){var t=i.requstAnimFrame();t(function(){var t=u._calculateDropdownHeight();p(e,function(){var e=u._calculateDropdownPosition(t);u.$dropdown[0].style.width=e.width+"px",u.$dropdown[0].style.top=u.isDropdownAbove?e.top-t+"px":e.bottom+"px",u.$dropdown[0].style.left=e.left+"px"})})},u._getContainer=function(){var e;return"function"==typeof u.options.container?(e=u.options.container(t),e=e&&"object"==typeof e.style?e:e&&"string"==typeof e.style?document.querySelector(e):document.querySelector("body")):"string"==typeof u.options.container&&(e=document.querySelector(u.options.container)),e},u._appendDropdown=function(){return u._getContainer().appendChild(u.$dropdown[0])},u._removeDropdown=function(){var e=u._getContainer();return e.contains(u.$dropdown[0])?e.removeChild(u.$dropdown[0]):void 0},u._saveScrollPos=function(){u.$options_container.length&&(u.scrollPos=u.$options_container[0].scrollTop)},u._setScrollPos=function(){var e=i.requstAnimFrame();e(function(){u.$options_container.length&&(u.$options_container[0].scrollTop=u.scrollPos)})},u.initialize=function(){u.bindEventListeners()},u.initialize(),u}]}}]),e.service("LazyScroller",["LazyContainer","$compile",function(e,t){var o={scopeName:"$choice"},n=function(e,t){var n=this;n.options=angular.extend({},o,t),n.$scope=e,n.$container=n.options.container,n.$list=n.options.list,n.choices=[],n.lazyContainers=[],n.numLazyContainers=Math.ceil(n.options.listHeight/n.options.choiceHeight)+2,n.lastCheck=null,n.lastScrollTop=null};return n.prototype.renderContainer=function(){var e=this,t=e.choices.length*e.options.choiceHeight,o=t>e.options.listHeight?e.options.listHeight:t;return e.$container.css("height",(o||e.options.choiceHeight)+"px"),e.$list.css("height",t+"px"),{choiceHeight:t,containerHeight:o}},n.prototype.bindScroll=function(){var e=this;e.$container.on("scroll",function(){window.requestAnimationFrame(function(){e._calculateLazyRender(),e.$scope.$apply()})})},n.prototype._shouldRender=function(e){var t=this;return!("number"==typeof t.lastCheck&&e<=t.lastCheck+(t.options.choiceHeight-t.lastCheck%t.options.choiceHeight)&&e>=t.lastCheck-t.lastCheck%t.options.choiceHeight)},n.prototype._calculateLazyRender=function(e){var t=this,o=t.$container[0].scrollTop;if(t.lastScrollTop=o,e===!0||t._shouldRender(o)){var n=[],i=[];angular.forEach(t.lazyContainers,function(r){var c=r.index*t.options.choiceHeight||0;e===!0&&(r.index=null),null===r.index||c<o-t.options.choiceHeight||c>o+t.options.listHeight+t.options.choiceHeight?(r.element.addClass("inactive").removeClass("active"),i.push(r)):(r.element.addClass("active").removeClass("inactive"),n.push(r))});var r=n.map(function(e){return e.index}),c=Math.floor(o/t.options.choiceHeight);c=0>c?0:c;var s=Math.ceil((o+t.options.listHeight)/t.options.choiceHeight);s=s>=t.choices.length?t.choices.length:s;for(var a=c;s>a;a++)if(!(r.indexOf(a)>=0)){var l=i.shift();l&&(l.element.addClass("active").removeClass("inactive"),l.index=a,l.render(t.options.choiceHeight),angular.extend(l.scope,{$containerId:l.containerId,$index:a,cssClass:t.choices[a]?t.choices[a].class:""}),l.scope.$group=!1,t.choices[a]&&t.choices[a].$sticky===!0?(l.scope[t.options.scopeName]=t.choices[a].value,l.scope.$onClick=t.choices[a].onClick,l.scope.$sticky=t.choices[a].$sticky,l.scope.$stickyContent=t.choices[a].$stickyContent):t.choices[a]&&t.choices[a].$$group?(l.scope.$group=!0,l.scope.$groupContent=t.choices[a].$$group):(l.scope[t.options.scopeName]=t.choices[a],l.scope.$sticky=!1))}t.lastCheck=o||null}},n.prototype.initialize=function(o){for(var n=this,i=0;i<n.numLazyContainers;i++){var r=o.clone(),c=n.$scope.$new();c.$options=n.$scope.$options,c[n.options.scopeName]={},t(r)(c),n.lazyContainers.push(new e({containerId:i,element:r,scope:c})),n.$list.append(r)}n.bindScroll()},n}]),e.service("LazyContainer",[function(){var e=function(e){var t=this;t.containerId=null,t.element=null,t.index=null,t.scope=null,angular.extend(t,e)};return e.prototype.render=function(e){var t=this;(t.element||null!==t.index)&&t.element.css("top",t.index*e+"px")},e}]),e.directive("reselectNoChoice",["$templateCache",function(e){return{restrict:"AE",replace:!0,transclude:!0,template:e.get("templates/reselect-no-choice.directive.tpl.html")}}]),e.value("reselectChoicesOptions",{enableSearch:!0,noOptionsText:"No Options",choiceHeight:36,listHeight:300}),e.directive("triggerAtBottom",["$parse","ReselectUtils",function(e,t){var o=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight};return{restrict:"A",link:function(n,i,r){function c(){(o(i)+i[0].scrollTop!==0||0!==i[0].scrollHeight)&&(o(i)+i[0].scrollTop>=i[0].scrollHeight-30&&a(),s=!1)}var s=!1,a=t.debounce(function(){e(r.triggerAtBottom)(n)},150);i.on("scroll",function(){if(!s){var e=t.requstAnimFrame();e(c),s=!0}}),c()}}}]),e.directive("reselectChoices",["ChoiceParser","$compile","$templateCache","LazyScroller","LazyContainer","ReselectUtils","reselectChoicesOptions",function(e,t,o,n,i,r,c){return{restrict:"AE",template:o.get("templates/reselect.options.directive.tpl.html"),require:["reselectChoices","?^reselect"],transclude:!0,replace:!0,compile:function(e,t){return t.options?function(e,t,o,n,i){{var r=n[0];n[1]}i(function(e){angular.element(r.CHOICE_TEMPLATE[0].querySelectorAll(".reselect-option-choice-container")).append(e)}),r.LazyDropdown.initialize(r.CHOICE_TEMPLATE),r.LazyDropdown.renderContainer()}:(console.warn("[reselect-options] directive requires the [options] attribute."),void 0)},controllerAs:"$options",controller:["$scope","$element","$attrs","$parse","$http","$timeout","ReselectDataAdapter","ReselectAjaxDataAdapter","KEYS","$q",function(t,i,s,a,l,p,d,u,h,f){var g=i.controller("reselect"),v=this;v.options=angular.extend({},c,a(s.reselectChoices)(t)||{}),v.options.noOptionsText=s.noOptionsText||v.options.noOptionsText,v.element=i[0],v.$container=angular.element(v.element.querySelectorAll(".reselect-options-container")),v.$list=angular.element(v.element.querySelectorAll(".reselect-options-list")),v.$search=angular.element(v.element.querySelectorAll(".reselect-search-input")),v.choiceHeight=v.options.choiceHeight,v.listHeight=v.options.listHeight,v.remotePagination={},v.haveChoices=!1,v.CHOICE_TEMPLATE=angular.element(o.get("templates/reselect.choice.tpl.html")),v.stickyChoices=[],v.registerChoices=function(e){angular.forEach(e,function(e){e=angular.element(e);var o={bottom:angular.isDefined(e.attr("sticky-bottom")),"class":e.attr("class"),$sticky:!0,$stickyContent:e.html()};e.attr("ng-click")&&(o.onClick=e.attr("ng-click")),e.attr("value")&&(o.value=a(e.attr("value"))(t.$parent)),v.stickyChoices.push(o)})},v.keydown=function(e){var o=e.which;if(o&&!e.shiftKey&&!e.altKey)switch(o){case h.ENTER:t.$emit("reselect.select"),e.stopPropagation(),e.preventDefault();break;case h.SPACE:t.$emit("reselect.select"),e.stopPropagation(),e.preventDefault();break;case h.UP:t.$emit("reselect.previous"),e.stopPropagation(),e.preventDefault();break;case h.DOWN:t.$emit("reselect.next"),e.stopPropagation(),e.preventDefault();break;case h.ESC:t.$emit("reselect.hide"),e.stopPropagation(),e.preventDefault();break;case h.TAB:t.$emit("reselect.hide"),e.stopPropagation(),e.preventDefault()}},g.parsedOptions=e.parse(s.options),s.groupBy&&(g.parsedGroupBy=a(s.groupBy)(t),"string"==typeof g.parsedGroupBy?v.groupByFn=function(e){return e[g.parsedGroupBy]}:"function"==typeof g.parsedGroupBy&&(v.groupByFn=g.parsedGroupBy)),s.remote?(v.remoteOptions=a(s.remote)(t.$parent),g.isRemote=!0,g.DataAdapter=new u(v.remoteOptions,g.parsedOptions),g.DataAdapter.groupByFn=g.parsedGroupBy,g.DataAdapter.prepareGetData=function(){g.DataAdapter.page=1,g.DataAdapter.pagination={},g.DataAdapter.updateData([]),v.render()}):(g.DataAdapter=new d,g.DataAdapter.groupByFn=g.parsedGroupBy,g.DataAdapter.updateData(g.parsedOptions.source(t)),g.DataAdapter.observe=function(){t.$watchCollection(function(){return g.parsedOptions.source(t)},function(e){g.DataAdapter.updateData(e)})}),g.DataAdapter.init(),v.getData=function(e,o){return e===!0&&g.DataAdapter.prepareGetData(),v.is_loading&&o?f.resolve():(v.is_loading=!0,g.DataAdapter.getData(g.search_term).then(function(e){if(!g.search_term||g.isRemote?(g.DataAdapter.updateData(e.data,o),v.render()):v.render(e.data),null===v.selectedIndex){var n=g.findSelectedChoice();"number"==typeof n.index&&(v.activeIndex=null,v.selectedIndex=n.index)}t.$emit("reselect.choices.render")}).finally(function(){v.is_loading=!1}))},v.loadMore=function(){g.DataAdapter.pagination&&g.DataAdapter.pagination.more&&v.getData(!1,!0)},v.search=r.debounce(function(){v.getData(!0,!1)},300,!1,function(){v.is_loading=!0}),v.LazyDropdown=new n(t,{scopeName:g.parsedOptions.itemName,container:v.$container,list:v.$list,choiceHeight:v.choiceHeight,listHeight:v.listHeight}),v.activeIndex=0,v.selectedIndex=null,v._selectChoice=function(e,o){if(o)a(o)(t.$parent),g.hideDropdown();else{v.selectedIndex=e;var n=e,i={};i[g.parsedOptions.itemName]=v.LazyDropdown.choices[n]&&v.LazyDropdown.choices[n].$sticky===!0&&v.LazyDropdown.choices[n].value?v.LazyDropdown.choices[n].value:v.LazyDropdown.choices[n];var r=angular.copy(g.parsedOptions.modelMapper(i));g.selectValue(r,i[g.parsedOptions.itemName])}},v.bindEventListeners=function(){t.$on("reselect.select",function(){v._selectChoice(v.activeIndex)}),t.$on("reselect.resetIndex",function(){v.selectedIndex=null,v.activeIndex=null}),t.$on("reselect.next",function(){var e=v.$container[0].offsetHeight,t=v.$container[0].scrollTop;null!==v.activeIndex?v.activeIndex<v.LazyDropdown.choices.length-1&&v.activeIndex++:v.activeIndex=0,t+e<v.activeIndex*v.choiceHeight+v.choiceHeight&&(v.$container[0].scrollTop=v.activeIndex*v.choiceHeight-e+v.choiceHeight)}),t.$on("reselect.previous",function(){var e=v.$container[0].scrollTop;v.activeIndex?v.activeIndex--:v.activeIndex=0,e>v.activeIndex*v.choiceHeight&&(v.$container[0].scrollTop=e-v.choiceHeight)}),v.$search.on("keydown",function(e){e.which===h.SPACE&&e.stopPropagation()})},v.render=function(e){if(v.LazyDropdown.choices=e||g.DataAdapter.data||[],v.LazyDropdown.choices=v.stickyChoices.filter(function(e){return e.bottom===!1}).concat(v.LazyDropdown.choices.concat(v.stickyChoices.filter(function(e){return e.bottom===!0}))),v.LazyDropdown.choices&&v.LazyDropdown.choices.length>=0){v.haveChoices=!!v.LazyDropdown.choices.length;var t=v.LazyDropdown.renderContainer();v.LazyDropdown._calculateLazyRender(!0),v.LazyDropdown.choices&&v.LazyDropdown.choices.length&&t.containerHeight>=t.choiceHeight&&v.loadMore()}else v.haveChoices=!1},v.bindEventListeners()}]}}]),e.directive("reselectPlaceholder",["$templateCache",function(e){return{restrict:"AE",replace:!0,transclude:!0,template:e.get("templates/reselect.placeholder.tpl.html")}}]),e.directive("reselectSelection",["$templateCache",function(e){return{restrict:"AE",replace:!0,transclude:!0,template:e.get("templates/reselect.selection.tpl.html"),scope:{},link:function(e,t,o,n,i){i(e,function(e){t.append(e)})},controller:["$scope",function(e){e.$selection=null,e.$choice=null,e.$on("reselect.renderselection",function(t,o){angular.extend(e,o)})}]}}]),e.service("ChoiceParser",["$parse",function(e){var t=this;t.parse=function(t){var o;if(o=t.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!o)throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",t);var n=o[5],i="";if(o[3]){n=o[5].replace(/(^\()|(\)$)/g,"");var r=o[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);r&&r[1].trim()&&(i=r[1],n=n.replace(i,""))}return{itemName:o[4]||o[2],keyName:o[3],source:e(n),sourceItem:n,filters:i,trackByExp:o[6],modelMapper:e(o[1]||o[4]||o[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}}}]),e.directive("reselectSticky",["$templateCache",function(e){return{restrict:"AE",replace:!0,transclude:!0,template:e.get("templates/reselect.sticky.tpl.html"),link:function(e,t){t.on("click",function(){e.$apply(function(){e.$reselect.hideDropdown()})})}}}]),angular.module("reselect.templates",[]).run(["$templateCache",function(e){e.put("templates/lazy-container.tpl.html",'<div class="reselect-dropdown"><div class="reselect-options-container"><div class="reselect-option reselect-option-choice" ng-show="!$reselect.choices.length">No Options</div><ul class="reselect-options-list"></ul></div></div>'),e.put("templates/reselect-no-choice.directive.tpl.html",'<div class="reselect-no-choice" ng-transclude=""></div>'),e.put("templates/reselect.choice.tpl.html",'<li class="reselect-option"><div class="reselect-option-choice" style="height: {{$options.choiceHeight}}px" ng-class="[{\'reselect-option-choice--highlight\' : $options.activeIndex === $index, \'reselect-option-choice--selected\' : $options.selectedIndex === $index }, cssClass]" ng-mouseenter="$options.activeIndex = $index" ng-mouseleave="$options.activeIndex = null" ng-click="$options._selectChoice($index, $onClick)" ng-if="$sticky || !$group"><div class="reselect-option-sticky" ng-if="$sticky === true" ng-bind-html="$stickyContent"></div><div class="reselect-option-choice-container" ng-if="!$sticky && !$group"></div></div><div class="reselect-option-optgroup" style="height: {{$options.choiceHeight}}px" ng-if="$group === true" ng-bind="$groupContent"></div></li>'),e.put("templates/reselect.directive.tpl.html",'<div class="reselect-container reselect" tabindex="0" focus-on="reselect.input.focus" blur-on="reselect.input.blur" ng-keydown="$reselect.handleKeyDown($event)"><input type="hidden" value="{{ngModel}}" ng-disabled="$reselect.isDisabled"><div class="reselect-selection-container" ng-class="{\'reselect-selection--active\' : $reselect.opened }" ng-click="$reselect.toggleDropdown($event)"><div class="reselect-rendered reselect-rendered-selection" ng-show="$reselect.isValidValue"><div class="reselect-selection" reselect-selection=""><span ng-bind="$selection"></span></div></div><div class="reselect-rendered reselect-rendered-placeholder" ng-show="!$reselect.isValidValue"><div class="reselect-placeholder" reselect-placeholder=""><span ng-bind="$reselect.options.placeholder"></span></div></div><div class="reselect-arrow-container"><div class="reselect-arrow"></div></div></div><a href="javascript:;" class="reselect-clear-button" ng-if="$reselect.options.allowClear && $reselect.isValidValue" ng-click="$reselect.clearValue()">&times;</a><div class="reselect-dropdown" ng-class="{\'reselect-dropdown--opened\' : $reselect.opened, \'reselect-dropdown--above\': $reselect.isDropdownAbove, \'reselect-dropdown--below\': !$reselect.isDropdownAbove }"></div></div>'),e.put("templates/reselect.options.directive.tpl.html",'<div class="reselect-choices" ng-keydown="$options.keydown($event)"><div class="reselect-search-container"><input class="reselect-search-input" tabindex="-1" type="text" focus-on="reselect.search.focus" placeholder="Type to search..." ng-show="$options.options.enableSearch" ng-model="$reselect.search_term" ng-change="$options.search()"></div><div class="reselect-option-loader" ng-show="$options.is_loading"></div><div class="reselect-options-container" ng-class="{\'reselect-options-container--autoheight\': !$options.LazyDropdown.choices.length && !$options.is_loading }" trigger-at-bottom="$options.loadMore()"><ul class="reselect-options-list" ng-show="$options.LazyDropdown.choices.length"></ul><div class="reselect-static-option reselect-empty-container" ng-show="!$options.haveChoices && !$options.is_loading"><div class="reselect-no-choice" reselect-no-choice=""><div class="reselect-option reselect-option--static reselect-option-choice">{{$options.options.noOptionsText}}</div></div></div><div class="reselect-option reselect-option--static reselect-option-choice reselect-option-loading" ng-show="$options.is_loading">Loading More...</div></div><div class="reselect-sticky-container"></div></div>'),e.put("templates/reselect.placeholder.tpl.html",'<div class="reselect-placeholder" ng-transclude=""></div>'),e.put("templates/reselect.selection.tpl.html",'<div class="reselect-selection"></div>'),e.put("templates/reselect.sticky.tpl.html",'<div class="reselect-sticky reselect-sticky-choice" ng-transclude=""></div>')}]),e.factory("safeApply",["$rootScope",function(){return function(e,t){if(!e.$root)return t();var o=e.$root.$$phase;"$apply"==o||"$digest"==o?t&&e.$eval(t):t?e.$apply(t):e.$apply()}}]),e.factory("ReselectUtils",["$timeout",function(e){var t={debounce:function(e,t,o,n){var i;return function(){var r=this,c=arguments,s=function(){i=null,o||e.apply(r,c)},a=o&&!i;clearTimeout(i),i=setTimeout(s,t),a&&e.apply(r,c),n&&n.apply(r,c)}},requstAnimFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||e}};return t}]),e.filter("rshighlight",["$sce",function(e){return function(t,o){var n,i,r,c="reselect-text-match";return r=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig"),angular.isDefined(t)&&null!==t?o?(t.match&&t.replace||(t=t.toString()),i=t.match(r),n=i?t.replace(r,'<span class="'+c+'">'+i[0]+"</span>"):t,e.trustAsHtml(n)):t:void 0}}]),e.directive("focusOn",["$timeout",function(e){return{restrict:"A",link:function(t,o,n){t.$on(n.focusOn,function(){e(function(){o[0].focus()})})}}}]),e.directive("blurOn",["$timeout",function(e){return{restrict:"A",link:function(t,o,n){t.$on(n.blurOn,function(){e(function(){o[0].blur()})})}}}]),e.filter("rsPropsFilter",function(){return function(e,t){var o=[];return angular.isArray(e)?e.forEach(function(e){for(var n=!1,i=Object.keys(t),r=0;r<i.length;r++){var c=i[r];if(angular.isUndefined(t[c])){n=!0;break}var s=t[c].toLowerCase();if(-1!==e[c].toString().toLowerCase().indexOf(s)){n=!0;break}}n&&o.push(e)}):o=e,o}}),e.constant("KEYS",{BACKSPACE:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46})}).apply(this);